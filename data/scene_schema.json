{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "config": {
      "type": "object",
      "properties": {
        "width": {
          "type": "integer",
          "description": "Width of the output image in pixels."
        },
        "height": {
          "type": "integer",
          "description": "Height of the output image in pixels."
        },
        "samples_per_pixel": {
          "type": "integer",
          "description": "Number of rays per pixel for anti-aliasing."
        },
        "max_depth": {
          "type": "integer",
          "description": "Maximum recursion depth for ray tracing."
        }
      },
      "required": ["width", "height", "samples_per_pixel", "max_depth"]
    },
    "camera": {
      "type": "object",
      "properties": {
        "position": {
          "type": "array",
          "items": { "type": "number" },
          "minItems": 3,
          "maxItems": 3,
          "description": "Position of the camera in 3D space (x, y, z)."
        },
        "look_at": {
          "type": "array",
          "items": { "type": "number" },
          "minItems": 3,
          "maxItems": 3,
          "description": "Point in space where the camera is looking (x, y, z)."
        },
        "up": {
          "type": "array",
          "items": { "type": "number" },
          "minItems": 3,
          "maxItems": 3,
          "description": "The up direction for the camera (x, y, z)."
        },
        "fov": {
          "type": "integer",
          "description": "Field of view (in degrees) of the camera."
        },
        "aspect_ratio": {
          "type": "string",
          "pattern": "^\\d+/\\d+$",
          "description": "Aspect ratio as a string, e.g., '16/9'."
        },
        "defocus_angle": {
          "type": "number",
          "description": "Amount of defocus blur for the camera lens."
        },
        "focus_dist": {
          "type": "number",
          "description": "Distance at which the camera is focused."
        }
      },
      "required": ["position", "look_at", "up", "fov", "aspect_ratio"]
    },
    "objects": {
      "type": "object",
      "properties": {
        "sphere": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "center": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3,
                "description": "Center of the sphere in 3D space (x, y, z)."
              },
              "radius": {
                "type": "number",
                "description": "Radius of the sphere."
              },
              "material": {
                "type": "integer",
                "description": "Index of the material used by the sphere."
              }
            },
            "required": ["center", "radius", "material"]
          },
          "description": "List of spheres in the scene."
        },
        "plane": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "normal": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3,
                "description": "Normal vector of the plane (x, y, z)."
              },
              "point": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3,
                "description": "A point on the plane (x, y, z)."
              },
              "material": {
                "type": "integer",
                "description": "Index of the material used by the plane."
              }
            },
            "required": ["normal", "point", "material"]
          },
          "description": "List of planes in the scene."
        }
      },
      "required": ["sphere", "plane"]
    },
    "materials": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the material (e.g., 'lambertian', 'metal', 'dielectric')."
          },
          "albedo": {
            "type": "array",
            "items": { "type": "number" },
            "minItems": 3,
            "maxItems": 3,
            "description": "Color of the material as RGB values."
          },
          "fuzz": {
            "type": "number",
            "description": "Fuzziness of the metal material (for roughness)."
          },
          "refraction_index": {
            "type": "number",
            "description": "Refraction index of the dielectric material."
          }
        },
        "required": ["type"]
      },
      "description": "List of materials used in the scene."
    }
  },
  "required": ["config", "camera", "objects", "materials"]
}
