{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "config": {
      "type": "object",
      "properties": {
        "width": { "type": "integer" },
        "height": { "type": "integer" },
        "samples_per_pixel": { "type": "integer" },
        "max_depth": { "type": "integer" }
      },
      "required": ["width", "height", "samples_per_pixel", "max_depth"]
    },
    "camera": {
      "type": "object",
      "properties": {
        "position": {
          "type": "array",
          "items": { "type": "number" },
          "minItems": 3,
          "maxItems": 3
        },
        "look_at": {
          "type": "array",
          "items": { "type": "number" },
          "minItems": 3,
          "maxItems": 3
        },
        "up": {
          "type": "array",
          "items": { "type": "number" },
          "minItems": 3,
          "maxItems": 3
        },
        "fov": { "type": "integer" },
        "aspect_ratio": { "type": "string" },
        "defocus_angle": { "type": "number" },
        "focus_dist": { "type": "number" }
      },
      "required": ["position", "look_at", "up", "fov", "aspect_ratio", "defocus_angle", "focus_dist"]
    },
    "objects": {
      "type": "object",
      "properties": {
        "sphere": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "center": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "radius": { "type": "number" },
              "material": { "type": "integer" }
            },
            "required": ["center", "radius", "material"]
          }
        },
        "plane": {
          "type": "array",
          "items": {}
        },
        "triangle": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "p1": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "p2": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "p3": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "material": { "type": "integer" }
            },
            "required": ["p1", "p2", "p3", "material"]
          }
        },
        "quad": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "corner": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "u": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "v": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "material": { "type": "integer" }
            },
            "required": ["corner", "u", "v", "material"]
          }
        },
        "boxes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "a": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "b": {
                "type": "array",
                "items": { "type": "number" },
                "minItems": 3,
                "maxItems": 3
              },
              "material": { "type": "integer" }
            },
            "required": ["a", "b", "material"]
          }
        }
      },
      "required": ["sphere", "plane", "triangle", "quad", "boxes"]
    },
    "materials": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": { "type": "string" },
          "refraction_index": { "type": "number" },
          "emission": {
            "type": "array",
            "items": { "type": "number" },
            "minItems": 3,
            "maxItems": 3
          },
          "albedo": {
            "type": "array",
            "items": { "type": "number" },
            "minItems": 3,
            "maxItems": 3
          },
          "fuzz": { "type": "number" }
        },
        "required": ["type"]
      }
    }
  },
  "required": ["config", "camera", "objects", "materials"]
}
